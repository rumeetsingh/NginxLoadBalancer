version: "3"

services:
    web01:
        image: nginx:1.19
        volumes:
            - ./Server01/src:/sites/src
            - ./Server01/nginx.conf:/etc/nginx/nginx.conf:ro

    web02:
        image: nginx:1.19
        volumes:
            - ./Server02/src:/sites/src
            - ./Server02/nginx.conf:/etc/nginx/nginx.conf:ro

    web03:
        image: nginx:1.19
        volumes:
            - ./Server03/src:/sites/src
            - ./Server03/nginx.conf:/etc/nginx/nginx.conf:ro

    lb:
        image: nginx:1.19
        volumes:
            - ./LoadBalancer/nginx.conf:/etc/nginx/nginx.conf:ro
        ports:
            - "8080:80"
